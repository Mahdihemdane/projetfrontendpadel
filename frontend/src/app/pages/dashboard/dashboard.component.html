<div class="header bg-gradient-danger pb-8 pt-5 pt-md-8">
  <div class="container-fluid">
    <div class="header-body">
      <!-- Welcome Message / Stats Summary (Real Stats maybe later) -->
      <div class="row">
        <div class="col-xl-12">
          <h1 class="text-white">Bienvenue sur Padel Tunisie de Réservation</h1>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="container-fluid mt--7">
  <!-- Terrain and Slots View (Available for Everyone) -->
  <div class="row">
    <div class="col-xl-12">
      <div class="row">
        <!-- List of Terrains -->
        <div class="col-md-4">
          <div class="card shadow">
            <div class="card-header border-0">
              <h3 class="mb-0">Nos Terrains</h3>
            </div>
            <ul class="list-group list-group-flush">
              <li class="list-group-item d-flex justify-content-between align-items-center" *ngFor="let t of terrains">
                <div style="cursor: pointer;" (click)="viewSlots(t)">
                  <h4 class="mb-0">{{t.name}}</h4>
                  <small class="text-muted">{{t.location}}</small>
                </div>
                <button class="btn btn-sm btn-info" (click)="viewSlots(t)">Voir</button>
              </li>
            </ul>
            <div class="card-body" *ngIf="terrains.length === 0">
              <p class="text-muted mb-0">Aucun terrain disponible.</p>
            </div>
          </div>
        </div>

        <!-- Available Slots -->
        <div class="col-md-8">
          <div class="card shadow">
            <div class="card-header border-0">
              <h3 class="mb-0">Créneaux Disponibles <span *ngIf="selectedTerrain">pour {{selectedTerrain.name}}</span>
              </h3>
            </div>
            <div class="card-body" *ngIf="!selectedTerrain">
              <p class="text-center">Veuillez sélectionner un terrain pour voir les créneaux.</p>
            </div>
            <div class="table-responsive" *ngIf="selectedTerrain">
              <table class="table align-items-center table-flush">
                <thead class="thead-light">
                  <tr>
                    <th>Date</th>
                    <th>Horaire</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let s of terrainSlots">
                    <td>{{s.date}}</td>
                    <td>{{s.startTime}} - {{s.endTime}}</td>
                    <td>
                      <button class="btn btn-sm btn-success" (click)="bookSlot(s.id)">Réserver</button>
                    </td>
                  </tr>
                  <tr *ngIf="terrainSlots.length === 0">
                    <td colspan="3" class="text-center">Aucun créneau disponible pour ce terrain.</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Admin View (Simplified) -->
  <div class="row" *ngIf="isAdmin">
    <div class="col-xl-6 mb-5">
      <div class="card shadow">
        <div class="card-body text-center">
          <h2>Gestion des Terrains</h2>
          <p>Gérer les terrains disponibles, les prix et les créneaux horaires.</p>
          <button class="btn btn-primary" [routerLink]="['/terrains']">Accéder</button>
        </div>
      </div>
    </div>
    <div class="col-xl-6 mb-5">
      <div class="card shadow">
        <div class="card-body text-center">
          <h2>Gestion des Réservations</h2>
          <p>Voir et gérer toutes les réservations des membres.</p>
          <button class="btn btn-primary" [routerLink]="['/reservations']">Accéder</button>
        </div>
      </div>
    </div>
  </div>
</div>